<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Agendar</title>
    <link rel="stylesheet" href="estilo3.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
  </head>
  <body>
    <header>
      <img src="img/Recurso 9.png" alt="Arqquitec" />
      <nav>
        <ul>
          <li><a href="index.html">Inicio</a></li>
          <li><a href="agendar.html">Agendar</a></li>
          <li><a href="portafolio.html">Portafolio</a></li>
        </ul>
      </nav>
      <a href="#" class="boton">Agenda tu Consulta</a>
    </header>
    <main>
      <div class="hero">
        <h1>Arquitectura de Vanguardia y Diseño de Espacios que Inspiran</h1>
      </div>
    </main>

    <button class="menu-toggle" id="menuToggle"></button>

    <div class="container">
      <div class="page-header">
        <h1 class="page-title">Mi Calendario</h1>
        <button class="btn" id="addEventBtn">
          <i class="fas fa-plus"></i> Agregar Evento
        </button>
      </div>

      <div class="calendar-container">
        <div class="calendar-card">
          <div class="card-header">
            <h2>Calendario</h2>
            <div>
              <button class="btn btn-success">
                <i class="fas fa-download"></i> Exportar
              </button>
            </div>
          </div>
          <div class="card-body">
            <div class="calendar-nav">
              <button id="prevMonth">
                <i class="fas fa-chevron-left"></i>
              </button>
              <h3 id="currentMonth">Noviembre 2023</h3>
              <button id="nextMonth">
                <i class="fas fa-chevron-right"></i>
              </button>
            </div>

            <table class="calendar-grid">
              <thead>
                <tr>
                  <th>Dom</th>
                  <th>Lun</th>
                  <th>Mar</th>
                  <th>Mié</th>
                  <th>Jue</th>
                  <th>Vie</th>
                  <th>Sáb</th>
                </tr>
              </thead>
              <tbody id="calendarBody">
                <!-- Calendar days will be generated by JavaScript -->
              </tbody>
            </table>
          </div>
        </div>

        <div class="events-card">
          <div class="card-header">
            <h2>Próximos Eventos</h2>
          </div>
          <div class="card-body">
            <ul class="events-list">
              <li class="event-item">
                <div class="event-date">15 Nov 2023</div>
                <div class="event-title">Consulta con Cardiólogo</div>
                <div class="event-time">
                  <i class="fas fa-clock"></i> 10:30 - 11:30
                </div>
                <span class="event-category health">Salud</span>
              </li>
              <li class="event-item">
                <div class="event-date">18 Nov 2023</div>
                <div class="event-title">Reunión de Trabajo</div>
                <div class="event-time">
                  <i class="fas fa-clock"></i> 14:00 - 16:00
                </div>
                <span class="event-category work">Trabajo</span>
              </li>
              <li class="event-item">
                <div class="event-date">20 Nov 2023</div>
                <div class="event-title">Cumpleaños de Ana</div>
                <div class="event-time"><i class="fas fa-clock"></i> 19:00</div>
                <span class="event-category personal">Personal</span>
              </li>
              <li class="event-item">
                <div class="event-date">25 Nov 2023</div>
                <div class="event-title">Análisis de Sangre</div>
                <div class="event-time">
                  <i class="fas fa-clock"></i> 08:00 - 08:30
                </div>
                <span class="event-category health">Salud</span>
              </li>
              <li class="event-item">
                <div class="event-date">30 Nov 2023</div>
                <div class="event-title">Entregar Proyecto</div>
                <div class="event-time"><i class="fas fa-clock"></i> 12:00</div>
                <span class="event-category work">Trabajo</span>
              </li>
            </ul>
          </div>
        </div>
      </div>

      <div class="reminder-section">
        <div class="reminder-header">
          <h2><i class="fas fa-bell"></i> Recordatorios Activos</h2>
        </div>
        <div class="card-body">
          <ul class="reminder-list">
            <li class="reminder-item">
              <div class="reminder-icon">
                <i class="fas fa-pills"></i>
              </div>
              <div class="reminder-text">
                <h3>Tomar Medicamento</h3>
                <p>Losartán 50mg para hipertensión</p>
              </div>
              <div class="reminder-time">Hoy 20:00</div>
            </li>
            <li class="reminder-item">
              <div class="reminder-icon">
                <i class="fas fa-user-md"></i>
              </div>
              <div class="reminder-text">
                <h3>Consulta Médica</h3>
                <p>Revisión oftalmológica programada</p>
              </div>
              <div class="reminder-time">Mañana 16:00</div>
            </li>
            <li class="reminder-item">
              <div class="reminder-icon">
                <i class="fas fa-dumbbell"></i>
              </div>
              <div class="reminder-text">
                <h3>Ejercicio Matutino</h3>
                <p>30 minutos de caminata</p>
              </div>
              <div class="reminder-time">Mañana 07:00</div>
            </li>
          </ul>
        </div>
      </div>
    </div>

    <!-- Modal para agregar/editar eventos -->
    <div class="modal" id="eventModal">
      <div class="modal-content">
        <div class="modal-header">
          <h2>Agregar Evento</h2>
          <button class="modal-close" id="closeModal">&times;</button>
        </div>
        <div class="modal-body">
          <form id="eventForm">
            <div class="form-group">
              <label for="eventTitle">Título del Evento</label>
              <input type="text" id="eventTitle" required />
            </div>
            <div class="form-group">
              <label for="eventDate">Fecha</label>
              <input type="date" id="eventDate" required />
            </div>
            <div class="form-group">
              <label for="eventTime">Hora</label>
              <input type="time" id="eventTime" />
            </div>
            <div class="form-group">
              <label for="eventCategory">Categoría</label>
              <select id="eventCategory" required>
                <option value="personal">Personal</option>
                <option value="work">Trabajo</option>
                <option value="health">Salud</option>
                <option value="other">Otro</option>
              </select>
            </div>
            <div class="form-group">
              <label for="eventDescription">Descripción</label>
              <textarea id="eventDescription"></textarea>
            </div>

            <div class="notification-settings">
              <h3>Configurar Recordatorios</h3>
              <div class="notification-option">
                <input type="checkbox" id="reminder1" name="reminder" />
                <label for="reminder1">15 minutos antes</label>
              </div>
              <div class="notification-option">
                <input type="checkbox" id="reminder2" name="reminder" />
                <label for="reminder2">1 hora antes</label>
              </div>
              <div class="notification-option">
                <input type="checkbox" id="reminder3" name="reminder" />
                <label for="reminder3">1 día antes</label>
              </div>
            </div>

            <div class="form-actions">
              <button type="button" class="btn" id="cancelBtn">Cancelar</button>
              <button type="submit" class="btn btn-success">Guardar</button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <script>
      // Función para toggle del menú móvil
      document
        .getElementById("menuToggle")
        .addEventListener("click", function () {
          document.getElementById("mainMenu").classList.toggle("active");
        });

      // Calendar functionality
      const monthNames = [
        "Enero",
        "Febrero",
        "Marzo",
        "Abril",
        "Mayo",
        "Junio",
        "Julio",
        "Agosto",
        "Septiembre",
        "Octubre",
        "Noviembre",
        "Diciembre",
      ];

      let currentDate = new Date();
      let currentMonth = currentDate.getMonth();
      let currentYear = currentDate.getFullYear();

      function generateCalendar(month, year) {
        const firstDay = new Date(year, month, 1).getDay();
        const daysInMonth = new Date(year, month + 1, 0).getDate();

        const calendarBody = document.getElementById("calendarBody");
        calendarBody.innerHTML = "";

        let date = 1;

        for (let i = 0; i < 6; i++) {
          const row = document.createElement("tr");

          for (let j = 0; j < 7; j++) {
            const cell = document.createElement("td");

            if (i === 0 && j < firstDay) {
              const prevMonthDays = new Date(year, month, 0).getDate();
              const prevDate = prevMonthDays - firstDay + j + 1;
              cell.innerHTML = `<div class="day-number">${prevDate}</div>`;
              cell.classList.add("other-month");
            } else if (date > daysInMonth) {
              const nextDate = date - daysInMonth;
              cell.innerHTML = `<div class="day-number">${nextDate}</div>`;
              cell.classList.add("other-month");
              date++;
            } else {
              cell.innerHTML = `<div class="day-number">${date}</div>`;

              // Mark today
              const today = new Date();
              if (
                year === today.getFullYear() &&
                month === today.getMonth() &&
                date === today.getDate()
              ) {
                cell.classList.add("today");
              }

              // Add random events for demonstration
              if (Math.random() > 0.7) {
                const indicator = document.createElement("div");
                indicator.classList.add("event-indicator");
                cell.appendChild(indicator);
                cell.classList.add("has-event");
              }

              date++;
            }

            row.appendChild(cell);
          }

          calendarBody.appendChild(row);

          if (date > daysInMonth) {
            break;
          }
        }

        // Update month display
        document.getElementById(
          "currentMonth"
        ).textContent = `${monthNames[month]} ${year}`;
      }

      // Navigation buttons
      document
        .getElementById("prevMonth")
        .addEventListener("click", function () {
          currentMonth--;
          if (currentMonth < 0) {
            currentMonth = 11;
            currentYear--;
          }
          generateCalendar(currentMonth, currentYear);
        });

      document
        .getElementById("nextMonth")
        .addEventListener("click", function () {
          currentMonth++;
          if (currentMonth > 11) {
            currentMonth = 0;
            currentYear++;
          }
          generateCalendar(currentMonth, currentYear);
        });

      // Modal functionality
      const modal = document.getElementById("eventModal");
      const addBtn = document.getElementById("addEventBtn");
      const closeBtn = document.getElementById("closeModal");
      const cancelBtn = document.getElementById("cancelBtn");

      addBtn.addEventListener("click", function () {
        modal.style.display = "flex";
      });

      closeBtn.addEventListener("click", function () {
        modal.style.display = "none";
      });

      cancelBtn.addEventListener("click", function () {
        modal.style.display = "none";
      });

      window.addEventListener("click", function (event) {
        if (event.target === modal) {
          modal.style.display = "none";
        }
      });

      // Form submission
      document
        .getElementById("eventForm")
        .addEventListener("submit", function (e) {
          e.preventDefault();
          // Aquí iría la lógica para guardar los datos
          alert("Evento agregado correctamente con recordatorios configurados");
          modal.style.display = "none";
        });

      // Set current date as default
      document.getElementById("eventDate").valueAsDate = new Date();

      // Initialize calendar
      generateCalendar(currentMonth, currentYear);
    </script>
  </body>
</html>
